(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const i of c)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function r(c){const i={};return c.integrity&&(i.integrity=c.integrity),c.referrerPolicy&&(i.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?i.credentials="include":c.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(c){if(c.ep)return;c.ep=!0;const i=r(c);fetch(c.href,i)}})();const m=[{criticScore:88,audienceScore:83,domestic:635763484,genre:"comedy",title:"Barbie"},{criticScore:59,audienceScore:95,domestic:574934330,genre:"action",title:"Mario Bros"},{criticScore:96,audienceScore:94,domestic:381311319,genre:"adventure",title:"Spiderverse"},{criticScore:82,audienceScore:94,domestic:358995815,genre:"action",title:"GOTG Vol. 3"},{criticScore:93,audienceScore:91,domestic:324130510,genre:"drama",title:"Oppenheimer"},{criticScore:67,audienceScore:94,domestic:298172056,genre:"adventure",title:"The Little Mermaid"},{criticScore:76,audienceScore:92,domestic:283067859,genre:"action",title:"Avatar 2"},{criticScore:46,audienceScore:82,domestic:214506909,genre:"action",title:"Ant-Man"},{criticScore:94,audienceScore:93,domestic:187131806,genre:"action",title:"John Wick 4"},{criticScore:69,audienceScore:88,domestic:174480468,genre:"adventure",title:"Indiana Jones 5"},{criticScore:96,audienceScore:94,domestic:172135383,genre:"action",title:"Mission Impossible 7"},{criticScore:52,audienceScore:91,domestic:157066392,genre:"action",title:"Transformers Beast"},{criticScore:88,audienceScore:96,domestic:156248615,genre:"drama",title:"Creed 3"},{criticScore:74,audienceScore:93,domestic:154426697,genre:"adventure",title:"Elemental"},{criticScore:56,audienceScore:84,domestic:145960660,genre:"action",title:"Fast X"},{criticScore:99,audienceScore:98,domestic:131997540,genre:"concert",title:"Taylor Swift Eras"},{criticScore:95,audienceScore:94,domestic:124312675,genre:"adventure",title:"Puss In Boots 2"},{criticScore:96,audienceScore:90,domestic:118610556,genre:"adventure",title:"TMNT"},{criticScore:76,audienceScore:91,domestic:108161389,genre:"horror",title:"Scream 6"},{criticScore:93,audienceScore:78,domestic:95043350,genre:"horror",title:"M3gan"},{criticScore:91,audienceScore:93,domestic:93277026,genre:"adventure",title:"D&D"},{criticScore:75,audienceScore:94,domestic:91746064,genre:"action",title:"The Equalizer 3"},{criticScore:52,audienceScore:73,domestic:85588302,genre:"horror",title:"The Nun 2"},{criticScore:28,audienceScore:73,domestic:82600317,genre:"action",title:"Meg 2"},{criticScore:38,audienceScore:70,domestic:82156962,genre:"horror",title:"Insidious"},{criticScore:78,audienceScore:92,domestic:72432543,genre:"action",title:"Blue Beetle"},{criticScore:37,audienceScore:84,domestic:67625828,genre:"comedy",title:"Haunted Mansion"},{criticScore:84,audienceScore:76,domestic:67233054,genre:"horror",title:"Evil Dead Rise"},{criticScore:66,audienceScore:71,domestic:64388510,genre:"comedy",title:"Cocaine Bear"},{criticScore:70,audienceScore:97,domestic:64267657,genre:"comedy",title:"A Man Called Otto"}],g=(t,e)=>{localStorage.setItem(t,JSON.stringify(e))},p=t=>{try{return JSON.parse(localStorage.getItem(t))}catch(e){return console.error(e),null}},a=t=>g("movies",t),n=()=>p("movies"),u=()=>a(m),f=t=>{const e=n();a([t,...e])},v=t=>{const r=n().filter(o=>o!==t);a(r)},d=()=>{const t=document.getElementById("barChart");t.innerHTML="";const e=document.createElement("canvas");e.id="bars",t.appendChild(e);let r=n(),o=r.map(i=>i.title),c=r.map(i=>i.domestic);new Chart(e,{type:"bar",data:{labels:o,datasets:[{label:"Domestic Gross",data:c,borderWidth:1}]},options:{scales:{y:{beginAtZero:!0}}}})};console.log("chartjs");const S=()=>{const t=document.getElementById("donutChart");t.innerHTML="";const e=document.createElement("canvas");t.appendChild(e),e.id="dons";let r=m.map(c=>c.genre);console.log(r);let o={};for(let c=0;c<r.length;c++)o[r[c]]?o[r[c]]++:o[r[c]]=1;console.log(o),new Chart(e,{type:"doughnut",data:{labels:["action","adventure","comedy","drama","horror","concert"],datasets:[{label:"My First Dataset",data:[o.action,o.adventure,o.comedy,o.drama,o.horror,o.concert],backgroundColor:["rgb(255, 99, 132)","rgb(54, 162, 235)","rgb(255, 205, 86)"],hoverOffset:4}]},options:{responsive:!0,plugins:{legend:{position:"top"}}}})},h=t=>{t.preventDefault(),document.querySelector("#movie-list");const e=t.target,r=new FormData(e),o=Object.fromEntries(r);console.log(o),f(o),l(),d(),e.reset()},l=()=>{const t=document.querySelector("#movie-list");t.innerHTML="";const e=n();console.log(e),console.log(e),e.forEach(r=>{const o=document.createElement("li");o.innerHTML=`
       <section >
            <h2 >${r.title}</h2>
            <p class="movie-detail" >Critic Score: ${r.criticScore}%</p>
            <p class="movie-detail">Audience Score: ${r.audienceScore}%</p>
            <p class="movie-detail">Domestic Total: $${r.domestic}</p>
            <p class="movie-detail">Genre: ${r.genre}</p>
        </section>
       `,t.append(o)}),d(),S()},y=t=>{t.preventDefault();let e=n();v(e),u(),l()},b=()=>{document.querySelector("#add-movie-form").addEventListener("submit",h),n()||u(),l(),d(),S(),document.querySelector("#removeMovie").addEventListener("click",y)};b();
